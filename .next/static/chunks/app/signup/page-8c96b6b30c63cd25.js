(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{1007:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(2895).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2274:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,2699)),Promise.resolve().then(r.bind(r,9911))},9911:(e,s,r)=>{"use strict";r.d(s,{default:()=>f});var a=r(5594),t=r(376),o=r(5155),i=r(2115),l=r(5324),d=r(8533),c=r(1007),n=r(8883),m=r(8749),u=r(2657),x=r(5695),h=r(6874),g=r.n(h),p=r(6263);function f(){let e=(0,x.useRouter)(),[s,r]=(0,i.useState)(()=>({data:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",acceptTerms:!1},errors:{},isLoading:!1,showPassword:!1,showConfirmPassword:!1,isSuccess:!1})),h=(0,i.useCallback)(()=>{let e={};return s.data.firstName.trim()||(e.firstName="First name is required"),s.data.lastName.trim()||(e.lastName="Last name is required"),s.data.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.data.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required",s.data.password?s.data.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",s.data.confirmPassword?s.data.password!==s.data.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",s.data.acceptTerms||(e.acceptTerms="You must accept the Terms of Service"),r(s=>(0,t._)((0,a._)({},s),{errors:e})),0===Object.keys(e).length},[s.data]),f=(0,i.useCallback)(e=>s=>{let o="acceptTerms"===e?s.target.checked:s.target.value;r(s=>(0,t._)((0,a._)({},s),{data:(0,t._)((0,a._)({},s.data),{[e]:o}),errors:(0,t._)((0,a._)({},s.errors),{[e]:void 0,general:void 0})}))},[]),w=(0,i.useCallback)(e=>()=>{r(s=>(0,t._)((0,a._)({},s),{[e]:!s[e]}))},[]),b=(0,i.useCallback)(async o=>{if(o.preventDefault(),console.log("\uD83D\uDCDD Signup form submitted"),console.log("\uD83D\uDC64 User data:",{name:"".concat(s.data.firstName," ").concat(s.data.lastName),email:s.data.email}),!h())return void console.log("❌ Form validation failed");r(e=>(0,t._)((0,a._)({},e),{isLoading:!0,errors:{}}));try{console.log("\uD83D\uDE80 Creating user account with Appwrite...");let o="".concat(s.data.firstName.trim()," ").concat(s.data.lastName.trim()),i=s.data.email.trim(),l=await (0,p.DY)(i,s.data.password,o);console.log("✅ User account created:",l);try{let e=await (0,p.kg)({name:o,email:i,preferences:{notifications:!0,newsletter:!0,theme:"light",language:"en-AU"}});console.log("✅ User document created in database:",e)}catch(e){console.warn("⚠️ User created but database document failed:",e)}r(e=>(0,t._)((0,a._)({},e),{isLoading:!1,isSuccess:!0})),setTimeout(()=>{console.log("\uD83C\uDF89 Redirecting to welcome page..."),e.push("/welcome")},1500)}catch(s){console.error("❌ Registration failed:",s);let e="Registration failed. Please try again.";s.message&&(e=s.message.includes("user_already_exists")?"An account with this email already exists. Please try logging in instead.":s.message.includes("password")?"Password does not meet security requirements. Please use at least 8 characters.":s.message.includes("email")?"Please enter a valid email address.":s.message),r(s=>(0,t._)((0,a._)({},s),{isLoading:!1,errors:{general:e}}))}},[s.data,h,e]);return(0,o.jsxs)("form",{onSubmit:b,className:"space-y-6",noValidate:!0,children:[s.isSuccess&&(0,o.jsxs)("div",{className:"flex items-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,o.jsx)(l.A,{className:"h-5 w-5 text-green-600 mr-3"}),(0,o.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Account created successfully! Redirecting to welcome page..."})]}),s.errors.general&&(0,o.jsxs)("div",{className:"flex items-start p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,o.jsx)(d.A,{className:"h-5 w-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),(0,o.jsx)("span",{className:"text-sm text-red-700 font-medium",children:s.errors.general})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700",children:"First Name *"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{id:"firstName",type:"text",value:s.data.firstName,onChange:f("firstName"),className:"w-full px-4 py-4 border-2 rounded-xl bg-white text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 ".concat(s.errors.firstName?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-200 hover:border-gray-300"),placeholder:"John",disabled:s.isLoading||s.isSuccess,autoComplete:"given-name"}),(0,o.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:(0,o.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})})]}),s.errors.firstName&&(0,o.jsxs)("p",{className:"text-sm text-red-500 flex items-center",children:[(0,o.jsx)(d.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.errors.firstName]})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700",children:"Last Name *"}),(0,o.jsx)("input",{id:"lastName",type:"text",value:s.data.lastName,onChange:f("lastName"),className:"w-full px-4 py-4 border-2 rounded-xl bg-white text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 ".concat(s.errors.lastName?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-200 hover:border-gray-300"),placeholder:"Smith",disabled:s.isLoading||s.isSuccess,autoComplete:"family-name"}),s.errors.lastName&&(0,o.jsxs)("p",{className:"text-sm text-red-500 flex items-center",children:[(0,o.jsx)(d.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.errors.lastName]})]})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700",children:"Email Address *"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{id:"email",type:"email",value:s.data.email,onChange:f("email"),className:"w-full px-4 py-4 border-2 rounded-xl bg-white text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 ".concat(s.errors.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-200 hover:border-gray-300"),placeholder:"name@example.com",disabled:s.isLoading||s.isSuccess,autoComplete:"email"}),(0,o.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:(0,o.jsx)(n.A,{className:"h-5 w-5 text-gray-400"})})]}),s.errors.email&&(0,o.jsxs)("p",{className:"text-sm text-red-500 flex items-center",children:[(0,o.jsx)(d.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.errors.email]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Password *"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{id:"password",type:s.showPassword?"text":"password",value:s.data.password,onChange:f("password"),className:"w-full px-4 py-4 border-2 rounded-xl bg-white text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 pr-12 ".concat(s.errors.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-200 hover:border-gray-300"),placeholder:"Create password",disabled:s.isLoading||s.isSuccess,autoComplete:"new-password"}),(0,o.jsx)("button",{type:"button",onClick:w("showPassword"),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors focus:outline-none",disabled:s.isLoading||s.isSuccess,"aria-label":s.showPassword?"Hide password":"Show password",children:s.showPassword?(0,o.jsx)(m.A,{className:"h-5 w-5"}):(0,o.jsx)(u.A,{className:"h-5 w-5"})})]}),s.errors.password&&(0,o.jsxs)("p",{className:"text-sm text-red-500 flex items-center",children:[(0,o.jsx)(d.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.errors.password]})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700",children:"Confirm Password *"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{id:"confirmPassword",type:s.showConfirmPassword?"text":"password",value:s.data.confirmPassword,onChange:f("confirmPassword"),className:"w-full px-4 py-4 border-2 rounded-xl bg-white text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 pr-12 ".concat(s.errors.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-200 hover:border-gray-300"),placeholder:"Confirm password",disabled:s.isLoading||s.isSuccess,autoComplete:"new-password"}),(0,o.jsx)("button",{type:"button",onClick:w("showConfirmPassword"),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors focus:outline-none",disabled:s.isLoading||s.isSuccess,"aria-label":s.showConfirmPassword?"Hide password":"Show password",children:s.showConfirmPassword?(0,o.jsx)(m.A,{className:"h-5 w-5"}):(0,o.jsx)(u.A,{className:"h-5 w-5"})})]}),s.errors.confirmPassword&&(0,o.jsxs)("p",{className:"text-sm text-red-500 flex items-center",children:[(0,o.jsx)(d.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.errors.confirmPassword]})]})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[(0,o.jsx)("input",{id:"acceptTerms",type:"checkbox",checked:s.data.acceptTerms,onChange:f("acceptTerms"),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-400 rounded",disabled:s.isLoading||s.isSuccess}),(0,o.jsxs)("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700 leading-relaxed",children:["I agree to the"," ",(0,o.jsx)(g(),{href:"/terms",className:"text-primary-600 hover:text-primary-500 underline font-medium",children:"Terms of Service"})," ","and"," ",(0,o.jsx)(g(),{href:"/privacy",className:"text-primary-600 hover:text-primary-500 underline font-medium",children:"Privacy Policy"})]})]}),s.errors.acceptTerms&&(0,o.jsxs)("p",{className:"text-sm text-red-500 flex items-center",children:[(0,o.jsx)(d.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.errors.acceptTerms]})]}),(0,o.jsx)("button",{type:"submit",disabled:s.isLoading||s.isSuccess,className:"w-full flex justify-center items-center py-4 px-6 text-base font-semibold rounded-xl min-h-[56px] transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transform hover:scale-[1.02] ".concat(s.isLoading||s.isSuccess?"bg-gray-400 text-white cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 text-white shadow-lg hover:shadow-xl"),children:s.isLoading?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}),(0,o.jsx)("span",{children:"Creating account..."})]}):s.isSuccess?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.A,{className:"h-5 w-5 mr-3"}),(0,o.jsx)("span",{children:"Account Created! Redirecting..."})]}):(0,o.jsx)("span",{children:"Create Account"})}),!1]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[38,327,0,441,684,358],()=>s(2274)),_N_E=e.O()}]);